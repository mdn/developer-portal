{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% image resource.card_image width-480 as card_image %}
{% static "img/placeholders/post_16_9.jpg" as fallback_image %}

<div class="mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9">
  <a class="mzp-c-card-block-link {% if resource.is_external %}js-modal-trigger{% endif %}"
    href="{% pageurl resource %}"
    {% if resource.is_external %}
    data-class-name="mzp-has-media"
    data-title="{{ resource.title }}"
    target="_blank"
    rel="nofollow noopener"
    {% endif %}
    data-type="{{ resource.resource_type }}"
  >
    <div class="mzp-c-card-media-wrapper">
      <img class="mzp-c-card-image" src="{% firstof card_image.url fallback_image %}" alt="">
    </div>
    <div class="mzp-c-card-content card-article-content">
      <div class="mzp-c-card-tag">
         Video
      </div>
      <h2 class="mzp-c-card-title">
        {% firstof resource.card_title resource.title %}
      </h2>
    </div>
  </a>
</div>
