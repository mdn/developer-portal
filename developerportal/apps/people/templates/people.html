{% extends "base.html" %}
{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block body_class %}people{% endblock %}

{% block content %}
  <main>
    <div class="base-grid">
      <section>
        <div class="section-header">
          <h2>Featured</h2>
        </div>
        {% if page.featured_people.all.count == 1 %}
          {% with page.featured_people.all.0.person as person %}
            {% include "molecules/card-featured-primary.html" with resource=person type='person' %}
          {% endwith %}
        {% else %}
          <div class="card-container {% if page.featured_people.all.count == 2 %}card-container-2{% endif %}">
            {% for featured in page.featured_people.all %}
              {% with featured.person as person %}
                {% if page.featured_people.all.count == 2 %}
                  {% include "molecules/card-featured.html" with resource=person type='person' %}
                {% else %}
                  {% include "molecules/card-featured.html" with resource=person type='person' format='square' %}
                {% endif %}
              {% endwith %}
            {% endfor %}
          </div>
        {% endif %}
      </section>
      <section class="section-full">
        {% include "organisms/filter-list.html" with title="People" type="person" resources=page.mozillians %}
      </section>
    </div>
  </main>
{% endblock content %}
