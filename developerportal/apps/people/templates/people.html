{% extends "base.html" %}
{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block body_class %}people{% endblock %}

{% block content %}
  <main>
    <div class="base-grid">
      {% with featured_people=page.featured_people.all %}
        {% if featured_people %}
          <section>
            <div class="section-header">
              <h2>Featured</h2>
            </div>
            {% if featured_people.count == 1 %}
              {% with featured_people.0.person as person %}
                {% include "molecules/card-featured-primary.html" with resource=person %}
              {% endwith %}
            {% else %}
              <div class="card-container {% if page.featured_people.all.count == 2 %}card-container-2{% endif %}">
                {% for featured in featured_people %}
                  {% with featured.person as person %}
                    {% if featured_people.count == 2 %}
                      {% include "molecules/card-featured.html" with resource=person %}
                    {% else %}
                      {% include "molecules/card-featured.html" with resource=person format='square' %}
                    {% endif %}
                  {% endwith %}
                {% endfor %}
              </div>
            {% endif %}
          </section>
        {% endif %}
      {% endwith %}
      {% if page.people %}
        <section>
          <h2>People</h2>
        </section>
        <section class="section-full">
          {% include "organisms/filter-list.html" with type="person" resources=page.people initial_resources=10 resources_per_page=4 %}
        </section>
      {% endif %}
    </div>
  </main>
{% endblock content %}
